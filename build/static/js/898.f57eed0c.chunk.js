"use strict";(self.webpackChunkreact_jike=self.webpackChunkreact_jike||[]).push([[898],{2898:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var a=s(7363),i=s(1397);var r=s(1752),l=s(2622),n=s(1773),c=s(2641),d=s(5820),o=s(8526),u=s(5722),m=s(9649),p=s(8656),h=s(2091),x=s(184);const y=()=>{const e=[{title:"\u540d\u79f0",dataIndex:"name",width:220},{title:"\u522b\u540d",width:160,dataIndex:"alias"},{title:"\u64cd\u4f5c",render:e=>(0,x.jsxs)(n.Z,{size:"middle",children:[(0,x.jsx)(c.ZP,{type:"primary",shape:"circle",icon:(0,x.jsx)(r.Z,{}),onClick:()=>s(e)}),(0,x.jsx)(d.Z,{title:"\u5220\u9664\u6587\u7ae0",description:"\u786e\u8ba4\u8981\u5220\u9664\u5f53\u524d\u6587\u7ae0\u5417?",onConfirm:()=>y(e),okText:"Yes",cancelText:"No",children:(0,x.jsx)(c.ZP,{type:"primary",danger:!0,shape:"circle",icon:(0,x.jsx)(l.Z,{})})})]})}],[t]=o.Z.useForm(),s=e=>{w(e),Z(!0)},y=async e=>{await function(e){return(0,i.WY)({url:"/my/article/delcate/".concat(e),method:"get"})}(Number(e.id)),u.ZP.success("\u5220\u9664\u6210\u529f"),C(k.filter((t=>t.id!==e.id)))},[j,Z]=(0,a.useState)(!1),[f,w]=(0,a.useState)({}),[k,C]=(0,a.useState)([]);return(0,a.useEffect)((()=>{j?t.setFieldsValue({...f}):async function(){const e=await(0,i.WY)({url:"/my/article/cates",method:"GET"});C(e.data)}()}),[k.length,f]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{children:(0,x.jsx)(c.ZP,{onClick:()=>{Z(!0)},type:"primary",children:"\u6dfb\u52a0"})}),(0,x.jsx)("div",{children:(0,x.jsx)(m.Z,{rowKey:(e,t)=>t,columns:e,dataSource:k})}),(0,x.jsx)(p.Z,{title:f.id?"\u7f16\u8f91":"\u6dfb\u52a0",okButtonProps:{style:{display:"none"}},cancelButtonProps:{style:{display:"none"}},open:j,onCancel:()=>{Z(!1),w({}),t.resetFields()},children:(0,x.jsxs)(o.Z,{name:"xxx",form:t,labelCol:{span:4},wrapperCol:{span:18},style:{maxWidth:600},initialValues:{remember:!0},onFinish:async e=>{if(console.log(e),f.id){let s=await(t={...e,id:f.id},(0,i.WY)({url:"/my/article/editcate",method:"post",data:t}));if(1==s.status)return u.ZP.error("\u4fee\u6539\u5931\u8d25:".concat(s.message));u.ZP.success("\u4fee\u6539\u6210\u529f")}else await function(e){return(0,i.WY)({url:"/my/article/addcate",method:"post",data:e})}(e),u.ZP.success("\u6dfb\u52a0\u6210\u529f");var t;Z(!1),C([...k,e])},onFinishFailed:e=>{console.log("Failed:",e)},autoComplete:"off",children:[(0,x.jsx)(o.Z.Item,{label:"\u540d\u79f0",name:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u540d\u79f0"}],children:(0,x.jsx)(h.Z,{})}),(0,x.jsx)(o.Z.Item,{label:"\u522b\u540d",name:"alias",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u522b\u540d!"}],children:(0,x.jsx)(h.Z,{})}),(0,x.jsx)(o.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,x.jsx)(c.ZP,{type:"primary",htmlType:"submit",children:"Submit"})})]})})]})}}}]);
//# sourceMappingURL=898.f57eed0c.chunk.js.map